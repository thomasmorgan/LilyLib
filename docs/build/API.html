
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API &#8212; LilyLib 0.0.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Markup" href="markup.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<p>Lilylib’s code is organized into the following files, (roughly) ordered according to their co-dependencies:</p>
<ul class="simple">
<li><p><strong>util.py</strong>; generic helper functions to flatten and splice lists etc.</p></li>
<li><p><strong>keys.py</strong>; the Key class, key subclasses, key dictionary and keyify function.</p></li>
<li><p><strong>staves.py</strong>; the Stave class and subclasses.</p></li>
<li><p><strong>tones.py</strong>; definition and manipulation of tones, the tonify function.</p></li>
<li><p><strong>points.py</strong>; the Point class, permitted point durations, functions for generating, transposing and harmonizing points.</p></li>
<li><p><strong>markup.py</strong>; functions for adding markup to passages of music.</p></li>
<li><p><strong>piece.py</strong>; the Piece class.</p></li>
</ul>
<div class="section" id="util">
<h2>util<a class="headerlink" href="#util" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><strong>flatten</strong> (<em>List</em>)</dt><dd><p>Returns a new, un-nested list with the same contents as the passed (nested) list.</p>
</dd>
<dt><strong>split_and_flatten</strong> (<em>item</em>)</dt><dd><p>Splits any strings within the passed item at white space, flattens the result and returns it.</p>
</dd>
<dt><strong>select</strong> (<em>List, *indexes</em>)</dt><dd><p>Returns a list containing the subset of items in the passed list whose indexes are also passed. Counts from 1, not 0. Respects ordering of passed list, not passed indexes. Items are not duplicated even if passed indexes contains duplicates.</p>
</dd>
<dt><strong>pattern</strong> (<em>List, *indexes</em>)</dt><dd><p>Builds and returns a new list by repeatedly selecting the items in the passed List at the passed indexes. Counts from 1 not 0. Ordering is determined by the passed indexes not the passed List. Duplicate indexes result in duplicate items in the returned list.</p>
</dd>
<dt><strong>omit</strong> (<em>List, *indexes</em>)</dt><dd><p>Returns a list containing the subset of items in the passed list whose indexes are <strong>not</strong> in the passed indexes. Counts from 1, not 0. Inverse of <em>select</em>.</p>
</dd>
<dt><strong>subset</strong> (<em>List, start, stop</em>)</dt><dd><p>Returns subset of List from start to stop. Both indexes are inclusive. If stop &lt; start, order of items is reversed relative to passed List.</p>
</dd>
<dt><strong>join</strong> (<em>*motifs</em>)</dt><dd><p>Returns a dictionary which contains the contents of all passed motifs concatenated. Assumes all passed motifs have the same keys as the first motif.</p>
</dd>
</dl>
</div>
<div class="section" id="keys">
<h2>keys<a class="headerlink" href="#keys" title="Permalink to this headline">¶</a></h2>
<dl>
<dt><strong>Key</strong> ()</dt><dd><p>The base Key class.</p>
<dl class="simple">
<dt><strong>Key.__init__</strong> ()</dt><dd><p>Makes the Key class.</p>
</dd>
<dt><strong>Key.define</strong> ()</dt><dd><p>Raises an error by default, subclasses of Key must overwrite this function to set Key.root, Key.name and Key.letters.</p>
</dd>
<dt><strong>Key.confirm_definition</strong> ()</dt><dd><p>Checks Key has been correctly defined. See Key.define().</p>
</dd>
<dt><strong>Key.root</strong></dt><dd><p>The root letter of the key, e.g. “c” for C Major.</p>
</dd>
<dt><strong>Key.name</strong></dt><dd><p>The name of the key, e.g. “c major”.</p>
</dd>
<dt><strong>Key.letters</strong></dt><dd><p>The letters of the tones of the scale of the key in ascending order (which letter is first does not matter).</p>
</dd>
<dt><strong>Key.tones</strong></dt><dd><p>Returns a list of all tones in the scale of the key. It is the subset of tones.all_tones where the tones letter is in Key.letters.</p>
</dd>
<dt><strong>Key.all_letters</strong></dt><dd><p>Returns a list of all letters in the key. Includes accidentals (e.g. cs is included with C Major) but no duplicates (e.g. df is not included with C Major). Keys with sharps in their signature include sharps in all_letters, keys with flats in their signature include flats.</p>
</dd>
<dt><strong>Key.all_tones</strong></dt><dd><p>Returns a list of all tones in the key, including accidentals but not duplicates. It is produced by taking the subset of tones.all_tones where the letter of the tone is in Key.all_letters.</p>
</dd>
<dt><strong>Key.arpeggio_letters</strong></dt><dd><p>Returns a list of the letters of the tones of the arpeggio of the key in ascending order.</p>
</dd>
<dt><strong>Key.arpeggio_tones</strong></dt><dd><p>Returns a list of the tones of the argpeggio of the key. It is created by taking the subset of tones.all_tones where the tones letter is in Key.arpeggio_letters.</p>
</dd>
<dt><strong>Key.arpeggio7_tones</strong></dt><dd><p>Returns a list of the tones of the argpeggio of the key, with the 7th included too.</p>
</dd>
<dt><strong>Key.dominant7_tones</strong></dt><dd><p>Returns a list of the tones of the dominant 7th of the key.</p>
</dd>
<dt><strong>Key.diminished7_tones</strong></dt><dd><p>Returns a list of the tones of the diminished 7th of the key.</p>
</dd>
<dt><strong>Key.scale_subset</strong> (<em>positions</em>)</dt><dd><p>Returns a list of all tones from the specified positions of the key of the scale. e.g. Key.scale_subset(1, 3, 5) returns the argpeggio_tones.</p>
</dd>
<dt><strong>Key.descending_chromatic_letters</strong></dt><dd><p>Returns a list of the letters with all accidentals being flats, not sharps.</p>
</dd>
<dt><strong>Key.ascending_chromatic_letters</strong></dt><dd><p>Returns a list of the letters with all accidentals being sharps, not flats.</p>
</dd>
<dt><strong>Key.descending_chromatic_tones</strong></dt><dd><p>Returns a list of tones with all accidentals being flats, not sharps.</p>
</dd>
<dt><strong>Key.ascending_chromatic_tones</strong></dt><dd><p>Returns a list of tones with all accidentals being sharps, not flats.</p>
</dd>
<dt><strong>Key.bias</strong> ()</dt><dd><p>Returns “sharp” if the key signature includes sharps (or an equal number of sharps and flats), otherwise returns “flat”. For harmonic minors, the number of sharps does not include the sharpened 7th.</p>
</dd>
<dt><strong>Key.__str__</strong> ()</dt><dd><p>Returns a lilypond description of the key suitable for typesetting.</p>
</dd>
<dt><strong>Key.relative_letter</strong> (<em>i</em>)</dt><dd><p>Returns the ith letter of the scale of the key. Counts from 0, not 1.</p>
</dd>
<dt><strong>Key.relative_chromatic_letter</strong> (<em>i</em>)</dt><dd><p>Returns the ith letter of the chromatic scale of the key (using Key.all_letters). Counts from 0, not 1.</p>
</dd>
<dt><strong>Key.tonic</strong></dt><dd><p>Return the 1st letter of the scale of the key.</p>
</dd>
<dt><strong>Key.supertonic</strong></dt><dd><p>Return the 2nd letter of the scale of the key.</p>
</dd>
<dt><strong>Key.mediant</strong></dt><dd><p>Return the 3rd letter of the scale of the key.</p>
</dd>
<dt><strong>Key.subdominant</strong></dt><dd><p>Return the 4th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.dominant</strong></dt><dd><p>Return the 5th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.submediant</strong></dt><dd><p>Return the 6th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.leading</strong></dt><dd><p>Return the 7th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.subtonic</strong></dt><dd><p>Return the 7th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.i</strong></dt><dd><p>Return the 1st letter of the scale of the key.</p>
</dd>
<dt><strong>Key.ii</strong></dt><dd><p>Return the 2nd letter of the scale of the key.</p>
</dd>
<dt><strong>Key.iii</strong></dt><dd><p>Return the 3rd letter of the scale of the key.</p>
</dd>
<dt><strong>Key.iv</strong></dt><dd><p>Return the 4th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.v</strong></dt><dd><p>Return the 5th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.vi</strong></dt><dd><p>Return the 6th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.vii</strong></dt><dd><p>Return the 7th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.I</strong></dt><dd><p>Return the 1st letter of the scale of the key.</p>
</dd>
<dt><strong>Key.II</strong></dt><dd><p>Return the 2nd letter of the scale of the key.</p>
</dd>
<dt><strong>Key.III</strong></dt><dd><p>Return the 3rd letter of the scale of the key.</p>
</dd>
<dt><strong>Key.IV</strong></dt><dd><p>Return the 4th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.V</strong></dt><dd><p>Return the 5th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.VI</strong></dt><dd><p>Return the 6th letter of the scale of the key.</p>
</dd>
<dt><strong>Key.VII</strong></dt><dd><p>Return the 7th letter of the scale of the key.</p>
</dd>
</dl>
</dd>
<dt><strong>CFlatMajor</strong></dt><dd><p>The Key subclass for C-flat Major.</p>
</dd>
<dt><strong>CFlatMinor</strong></dt><dd><p>The Key subclass for C-flat Minor.</p>
</dd>
<dt><strong>CFlatMinorH</strong></dt><dd><p>The Key subclass for C-flat Minor harmonic.</p>
</dd>
</dl>
<p>... <em>see keys.py for all key subclasses</em> ...</p>
<dl class="simple">
<dt><strong>key_dictionary</strong> [<em>mode</em>][<em>root</em>]</dt><dd><p>A dicitonary containing all key subclasses, keyed by mode and root, e.g. key_dictionary[“minor”][“bf”] returns an instance of the BFMinor key subclass.</p>
</dd>
<dt><strong>keyify</strong> (<em>key</em>)</dt><dd><p>Converts the passed key to an instance of a Key subclass. The argument should either be a subclass of Key or a string. Where a string, it should be of the form “&lt;root&gt; &lt;mode&gt;”, although capitalization does not matter. e.g. “c major”, “af minor”, or “g harmonic”.</p>
</dd>
</dl>
</div>
<div class="section" id="staves">
<h2>staves<a class="headerlink" href="#staves" title="Permalink to this headline">¶</a></h2>
<dl>
<dt><strong>Stave</strong> ()</dt><dd><p>The parent staff class.</p>
<dl class="simple">
<dt><strong>Stave.__init__</strong> (<em>clef, name</em>)</dt><dd><p>Creates a Stave instance. String clef must be a valid lilypond clef, name can be anything.</p>
</dd>
</dl>
</dd>
<dt><strong>Treble</strong> ()</dt><dd><p>A subclass of Stave, appears as a staff starting with the treble clef.</p>
<dl class="simple">
<dt><strong>Treble.__init__</strong> (<em>name</em>)</dt><dd><p>Creates a treble staff. Name can be anything.</p>
</dd>
</dl>
</dd>
<dt><strong>Bass</strong> ()</dt><dd><p>A subclass of Stave, appears as a staff starting with the bass clef.</p>
<dl class="simple">
<dt><strong>Bass.__init__</strong> (<em>name</em>)</dt><dd><p>Creates a bass staff. Name can be anything.</p>
</dd>
</dl>
</dd>
<dt><strong>Super</strong> ()</dt><dd><p>A subclass of Stave, appears as a staff starting with the treble clef, but has rows for both the treble and bass staves. See demo_prelude_in_c_super.py for an example.</p>
<dl class="simple">
<dt><strong>Super.__init__</strong> (<em>name</em>)</dt><dd><p>Creates a super staff. Name can be anything.</p>
</dd>
</dl>
</dd>
</dl>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">LilyLib</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">LilyLib documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="core_concepts.html">Core concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_music.html">Writing music</a></li>
<li class="toctree-l1"><a class="reference internal" href="changing_keys.html">Keys and changing key</a></li>
<li class="toctree-l1"><a class="reference internal" href="markup.html">Markup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#util">util</a></li>
<li class="toctree-l2"><a class="reference internal" href="#keys">keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="#staves">staves</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="markup.html" title="previous chapter">Markup</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Thomas J. H. Morgan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/API.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>